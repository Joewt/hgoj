<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>HGOJ | index</title>

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="/css/animate.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">

</head>

{{template "common/header.html"}}
<div class="wrapper wrapper-content">
    <div class="container">



        <div class="row">

            <div class="col-lg-12">
                <div class="ibox float-e-margins">
                    <pre>#include<stdio.h>
#include<stdlib.h>

struct Item
{
    int step;
    int position;
};

struct Item* itemConstructor(int step,int position)
{
    struct Item* item = malloc(sizeof(struct Item));
    item->step = step;
    item->position = position;
    return item;
}

struct Node
{
    struct Node* next;
    struct Node* previous;
    struct Item* item;
};

struct Node* nodeConstructor(struct Node* next,struct Node* previous,struct Item* item)
{
    struct Node* node = malloc(sizeof(struct Node));
    node->item = item;
    node->next = next;
    node->previous = previous;
    return node;
}

struct LinkedList
{
    struct Node* head;
    struct Node* tail;
};

struct LinkedList* queueConstructor()
{
    struct LinkedList* queue = malloc(sizeof(struct LinkedList));
    queue->head = NULL;
    queue->tail = NULL;
    return queue;
}

void pushQueue(struct LinkedList* queue,struct Item* item)
{
    struct Node* newNode = nodeConstructor(NULL,queue->tail,item);
    if(queue->tail)
    {
        queue->tail->next = newNode;
    }
    if(!queue->head)
    {
        queue->head = newNode;
    }
    queue->tail = newNode;
}

struct Item popQueue(struct LinkedList* queue)
{
    struct Item item;
    struct Node* headNode = queue->head;
    item.position = headNode->item->position;

    item.step = headNode->item->step;
    queue->head = queue->head->next;

    free(headNode->item);
    free(headNode);
    return item;
}

void queueTest()
{
    struct LinkedList* q = queueConstructor();
    pushQueue(q,itemConstructor(1,2));
    pushQueue(q,itemConstructor(2,3));
    //printf("%d %d\n",q->tail->item->step,q->tail->item->position);
    pushQueue(q,itemConstructor(3,4));
    //printf("%d %d\n",q->tail->item->step,q->tail->item->position);
    struct Item item = popQueue(q);
    printf("%d %d\n",item.step,item.position);
    item = popQueue(q);
    printf("%d %d\n",item.step,item.position);
    item = popQueue(q);
    printf("%d %d\n",item.step,item.position);
}

int BFS(int a,int b)
{
    struct LinkedList* q = queueConstructor();
    pushQueue(q,itemConstructor(0,a));
    struct Item item;
    item.step = 0;
    item.position = a;
    while(item.position != b)
    {
        item = popQueue(q);
        pushQueue(q,itemConstructor(item.step+1,item.position+1));
        pushQueue(q,itemConstructor(item.step+1,item.position-1));
        pushQueue(q,itemConstructor(item.step+1,item.position*2));
    }
    return item.step;
}

int main()
{
int x,y;
scanf("%d%d"x,y)
    printf("%d\n",BFS(x,y));
    return 0;
}
/**************************************************************
    Problem: 1494
    User: 16020120344
    Language: C++
    Result: 编译错误
****************************************************************/</pre>
                    <pre>
                        Main.cc:112:7: warning: invalid suffix on literal; C++11 requires a space between literal and identifier [-Wliteral-suffix]
 scanf("%d%d"x,y)
       ^
Main.cc: In function 'Item* itemConstructor(int, int)':
Main.cc:12:51: error: invalid conversion from 'void*' to 'Item*' [-fpermissive]
     struct Item* item = malloc(sizeof(struct Item));
                                                   ^
Main.cc: In function 'Node* nodeConstructor(Node*, Node*, Item*)':
Main.cc:27:51: error: invalid conversion from 'void*' to 'Node*' [-fpermissive]
     struct Node* node = malloc(sizeof(struct Node));
                                                   ^
Main.cc: In function 'LinkedList* queueConstructor()':
Main.cc:42:64: error: invalid conversion from 'void*' to 'LinkedList*' [-fpermissive]
     struct LinkedList* queue = malloc(sizeof(struct LinkedList));
                                                                ^
Main.cc: In function 'int main()':
Main.cc:112:13: error: expected ')' before 'x'
 scanf("%d%d"x,y)
             ^
Main.cc:112:16: warning: format '%d' expects argument of type 'int*', but argument 2 has type 'int' [-Wformat=]
 scanf("%d%d"x,y)
                ^
Main.cc:112:16: warning: format '%d' expects a matching 'int*' argument [-Wformat=]
Main.cc:113:5: error: expected ';' before 'printf'
     printf("%d\n",BFS(x,y));
     ^
Main.cc:111:5: warning: unused variable 'x' [-Wunused-variable]
 int x,y;
     ^
                    </pre>
                </div>
            </div>

        </div>

    </div>

</div>
{{template "common/footer.html"}}


<!-- Mainly scripts -->
<script src="/js/jquery-2.1.1.js"></script>
<script src="/js/bootstrap.min.js"></script>



</body>

</html>
